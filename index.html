<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Эволюция P2P: от Napster до Блокчейна</title>
    
    <!-- Подключение Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Подключение GSAP и ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Подключение Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        /* Кастомные стили для стекломорфизма и неонового свечения */
        .glass-card {
            background: rgba(10, 10, 10, 0.25);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 243, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 0 25px rgba(0, 243, 255, 0.3), 0 0 10px rgba(0, 243, 255, 0.2);
        }
        .neon-text {
            color: #00f3ff;
            text-shadow: 0 0 5px rgba(0, 243, 255, 0.7), 0 0 10px rgba(0, 243, 255, 0.5);
        }
        .neon-border {
             border-color: #00f3ff;
        }
        /* Стиль для кнопки "Читать далее" */
        .neon-button {
            background-color: rgba(0, 243, 255, 0.1);
            border: 1px solid #00f3ff;
            color: #00f3ff;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        .neon-button:hover {
            background-color: rgba(0, 243, 255, 0.2);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
        }
    </style>
</head>
<body class="bg-[#050505] text-gray-300 font-sans">

    <!-- Canvas для 3D-сцены Three.js -->
    <div id="canvas-container" class="fixed top-0 left-0 w-full h-full z-0"></div>

    <!-- Модальное окно (скрыто по умолчанию) -->
    <div id="modal" class="hidden fixed inset-0 z-40 flex items-center justify-center p-4">
        <div id="modal-backdrop" class="absolute inset-0 bg-black/60"></div>
        <div id="modal-panel" class="relative z-50 glass-card w-11/12 max-w-3xl rounded-lg overflow-hidden">
            <img id="modal-image" src="" alt="" class="w-full h-48 md:h-64 object-cover">
            <div class="p-6">
                <h2 id="modal-title" class="text-3xl font-bold neon-text mb-4"></h2>
                <div id="modal-content" class="text-gray-300 max-h-[40vh] overflow-y-auto pr-2"></div>
            </div>
            <button id="modal-close" class="absolute top-4 right-4 text-white bg-black/30 rounded-full w-8 h-8 flex items-center justify-center text-2xl hover:bg-black/50 transition-colors">&times;</button>
        </div>
    </div>


    <!-- Основной контент -->
    <div class="relative z-10">
        <div class="container mx-auto px-4">

            <!-- Hero-секция -->
            <section class="h-screen flex flex-col justify-center items-center text-center">
                <h1 class="text-5xl md:text-7xl font-bold uppercase tracking-wider reveal">P2P: <span class="neon-text">Oт Napster до Блокчейна</span></h1>
                <p class="mt-4 text-xl md:text-2xl text-gray-400 reveal" data-delay="0.2">История о том, как децентрализация изменила мир навсегда.</p>
            </section>

            <!-- Таймлайн -->
            <section class="py-20">
                <div class="space-y-24 max-w-4xl mx-auto">
                    
                    <!-- 1999: Napster -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                        <img src="https://blog.boson.com/hubfs/Napster-Logo-1999.png" alt="Napster" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                        <div class="text-left">
                            <h2 class="text-4xl font-bold neon-text">1999: Napster</h2>
                            <p class="mt-4 text-lg">
                                Студент Шон Фэннинг создал программу, которая позволяла делиться MP3-файлами напрямую между пользователями. Это был первый P2P-прорыв, который встряхнул музыкальную индустрию.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="napster">Читать подробнее</button>
                        </div>
                    </div>
                    
                    <!-- 2001: BitTorrent -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                        <div class="text-left md:order-last">
                            <h2 class="text-4xl font-bold neon-text">2001: BitTorrent</h2>
                            <p class="mt-4 text-lg">
                                Брэм Коэн усовершенствовал идею P2P, представив концепцию «роя». BitTorrent сделал возможной быструю передачу огромных файлов.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="bittorrent">Читать подробнее</button>
                        </div>
                        <img src="https://variety.com/wp-content/uploads/2013/09/bittorrent-logo-black-and-white.jpg?w=1000" alt="BitTorrent" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                    </div>

                    <!-- 2003: Skype -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                         <img src="https://avatars.mds.yandex.net/i?id=d59d5d78d5814ca2d7d4b5193949512c_l-4569015-images-thumbs&n=13" alt="Skype" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                        <div class="text-left">
                            <h2 class="text-4xl font-bold neon-text">2003: Skype</h2>
                            <p class="mt-4 text-lg">
                                P2P выходит за рамки файлов. Skype использует технологию для создания децентрализованной сети для VoIP-звонков, меняя телекоммуникации.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="skype">Читать подробнее</button>
                        </div>
                    </div>

                    <!-- 2008: Bitcoin -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                        <div class="text-left md:order-last">
                            <h2 class="text-4xl font-bold neon-text">2008: Bitcoin</h2>
                            <p class="mt-4 text-lg">
                                Сатоши Накамото публикует whitepaper Биткоина — первой в мире децентрализованной цифровой валюты на P2P-сети.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="bitcoin">Читать подробнее</button>
                        </div>
                        <img src="https://static.news.bitcoin.com/wp-content/uploads/2025/04/bbb-1.png" alt="Bitcoin" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                    </div>

                    <!-- 2015: Ethereum -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                         <img src="https://www.okx.com/cdn/assets/plugins/contentful/4nqoo8goeymu/3ZbzrlEhBQIM7xbpzAVHZa/26cb4e6ea6571a4eb1f5ca1a91c8bb64/03c042c9-f779-408f-9db9-973ca54d495b" alt="Ethereum" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                        <div class="text-left">
                            <h2 class="text-4xl font-bold neon-text">2015: Ethereum</h2>
                            <p class="mt-4 text-lg">
                                Запуск Ethereum. Виталик Бутерин представляет идею «смарт-контрактов», превращая блокчейн во всемирный децентрализованный компьютер.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="ethereum">Читать подробнее</button>
                        </div>
                    </div>

                    <!-- 2024+: Web3/IPFS -->
                    <div class="timeline-item grid md:grid-cols-2 gap-8 items-center">
                        <div class="text-left md:order-last">
                            <h2 class="text-4xl font-bold neon-text">2024+: Web3 и IPFS</h2>
                            <p class="mt-4 text-lg">
                                Новая эра интернета, где пользователи контролируют свои данные, устойчивая к цензуре и отключениям серверов.
                            </p>
                             <button class="neon-button font-bold py-2 px-4 rounded mt-6 modal-open-btn" data-target="web3">Читать подробнее</button>
                        </div>
                        <img src="https://www.insidemarketing.it/wp-content/uploads/2022/08/IPFS.jpg" alt="Web3" class="rounded-lg object-cover w-full h-full shadow-lg shadow-cyan-500/10">
                    </div>
                </div>
            </section>
            
            <!-- Инфографика -->
            <section class="py-20 text-center">
                <h2 class="text-4xl font-bold mb-12 reveal">Две модели мира</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div class="reveal">
                        <h3 class="text-2xl font-semibold neon-text">Client-Server (Централизация)</h3>
                        <div class="w-full h-64 glass-card rounded-lg mt-4 flex justify-center items-center p-4">
                           <p>Все клиенты подключаются к одному центральному серверу. Если сервер падает — система не работает. Это точка отказа и контроля.</p>
                        </div>
                    </div>
                    <div class="reveal">
                        <h3 class="text-2xl font-semibold neon-text">P2P / Mesh (Децентрализация)</h3>
                        <div class="w-full h-64 glass-card rounded-lg mt-4 flex justify-center items-center p-4">
                            <p>Все узлы (пиры) равны и соединены друг с другом. Отказ одного узла не влияет на работу всей сети. Это основа устойчивости.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        // --- Контент для модальных окон ---
        const modalContent = {
            napster: {
                title: "Napster: Начало P2P-эры",
                image: "https://picsum.photos/id/1018/800/600",
                content: "В 1999 году 19-летний Шон Фэннинг, желая упростить поиск музыки в сети, создал Napster. Программа индексировала файлы на компьютерах пользователей, создавая централизованный поисковый сервер, но сами файлы передавались напрямую от одного пользователя (пира) к другому. Это был гибридный P2P-подход. <br><br> Успех был ошеломительным: за год сервис привлек десятки миллионов пользователей. Музыкальная индустрия (RIAA) ответила серией судебных исков, обвинив Napster в массовом нарушении авторских прав. В итоге центральный сервер был признан незаконным, и в 2001 году сервис закрыли. Однако было уже поздно: джинн P2P вылетел из бутылки, и мир увидел потенциал децентрализованного обмена."
            },
            bittorrent: {
                title: "BitTorrent: Гений децентрализованного роя",
                image: "https://variety.com/wp-content/uploads/2013/09/bittorrent-logo-black-and-white.jpg?w=1000",
                content: "В 2001 году программист Брэм Коэн представил протокол BitTorrent, который вывел P2P на новый уровень. В отличие от Napster, где файл целиком передавался от одного пользователя к другому, BitTorrent разделил файлы на множество мелких частей (chunks). <br><br> Пользователи скачивают эти части у разных людей одновременно и, в свою очередь, сами становятся раздающими. Этот механизм называется 'swarming' (роение). Ключевое преимущество: чем популярнее файл, тем больше «пиров» в «рое» и тем выше скорость скачивания для всех. Отсутствие центрального сервера для файлов делает сеть невероятно устойчивой. Чтобы остановить раздачу, нужно отключить каждого участника, что практически невозможно."
            },
            skype: {
                title: "Skype: P2P для голоса",
                image: "https://avatars.mds.yandex.net/i?id=5cdb6778a5e9325666a50f717525bfbb847cc44d-5234254-images-thumbs&n=13",
                content: "Запущенный в 2003 году Skype стал настоящим прорывом, показав, что P2P-сети годятся не только для обмена файлами, но и для высококачественной голосовой связи в реальном времени. Вместо того чтобы маршрутизировать звонки через дорогие центральные серверы, Skype создал гигантскую распределенную сеть из своих пользователей. <br><br> Каждый пользователь с хорошим интернет-соединением мог стать «суперузлом», помогая маршрутизировать звонки других участников. Это позволило Skype быстро масштабироваться и предлагать бесплатные звонки по всему миру, что кардинально изменило индустрию телекоммуникаций."
            },
            bitcoin: {
                title: "Bitcoin и Блокчейн: P2P как финансовая система",
                image: "https://i.ytimg.com/vi/hFZTU6VB7y8/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AHUBoAC4AOKAgwIABABGHIgUihBMA8=&rs=AOn4CLAgIAJWjXJQw8W31JO14es9R8AeqA",
                content: "До 2008 года P2P-сети использовались в основном для обмена файлами. Все изменилось, когда анонимный создатель под псевдонимом Сатоши Накамото опубликовал whitepaper Биткоина. Он предложил использовать P2P-сеть для создания глобальной финансовой системы без посредников — банков или правительств.<br><br> Главная инновация — блокчейн, публичный и распределенный реестр всех транзакций. Чтобы предотвратить мошенничество (например, трату одних и тех же средств дважды — «проблема двойной траты»), транзакции группируются в блоки и проверяются участниками сети (майнерами) с помощью сложных криптографических вычислений. Это сделало цифровые деньги такими же уникальными, как и физические."
            },
            ethereum: {
                title: "Ethereum: Всемирный компьютер",
                image: "https://s.yimg.com/ny/api/res/1.2/0MPRPtVnfsPf6NQ0cL9sIQ--/YXBwaWQ9aGlnaGxhbmRlcjt3PTEyMDA7aD04MDA-/https://media.zenfs.com/en/coindesk_75/1e022bd3eeea30e6b23ee97d108a4c93",
                content: "Если Bitcoin — это P2P-деньги, то запущенный в 2015 году Ethereum — это P2P-компьютер. Его создатель, Виталик Бутерин, предложил расширить технологию блокчейна, добавив в нее «смарт-контракты» — самоисполняющиеся программы, работающие в децентрализованной сети. <br><br> Это превратило блокчейн из простого реестра транзакций в полноценную платформу для создания децентрализованных приложений (dApps). Ethereum стал фундаментом для тысяч проектов в области DeFi (децентрализованные финансы), NFT (невзаимозаменяемые токены) и заложил основу для современного видения Web3."
            },
            web3: {
                title: "Web3/IPFS: Перестройка Интернета",
                image: "https://static0.srcdn.com/wordpress/wp-content/uploads/2022/10/silicon-valley.jpg?q=49&fit=crop&w=825&dpr=2",
                content: "Современный интернет (Web2) построен на централизованной модели клиент-сервер. Ваши данные хранятся на серверах Google, Amazon, Facebook. Вы — продукт. Web3 — это концепция нового, децентрализованного интернета, построенного на базе блокчейна и P2P-технологий.<br><br> IPFS (InterPlanetary File System) является ключевой частью этой концепции. Это протокол, который стремится заменить HTTP. Вместо того чтобы запрашивать данные по их местоположению (URL), IPFS запрашивает их по уникальному хешу содержимого. Файлы хранятся распределенно на компьютерах участников сети. Такой подход создает более устойчивый, быстрый и свободный интернет, где пользователи по-настоящему владеют своими данными."
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // --- Логика для 3D-анимации фона ---
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);
            camera.position.z = 150;

            const particlesCount = 300;
            const particlesGeometry = new THREE.BufferGeometry();
            const posArray = new Float32Array(particlesCount * 3);
            for (let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 500;
            }
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMaterial = new THREE.PointsMaterial({ size: 1.5, color: '#00f3ff' });
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);
            
            const linesGeometry = new THREE.BufferGeometry();
            const linesMaterial = new THREE.LineBasicMaterial({ color: '#00f3ff', opacity: 0.1, transparent: true });
            const positions = particlesMesh.geometry.attributes.position.array;
            const linesPositions = [];
            const maxDistance = 50;
            for (let i = 0; i < particlesCount; i++) {
                for (let j = i + 1; j < particlesCount; j++) {
                    const dx = positions[i * 3] - positions[j * 3];
                    const dy = positions[i * 3 + 1] - positions[j * 3 + 1];
                    const dz = positions[i * 3 + 2] - positions[j * 3 + 2];
                    const distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
                    if (distance < maxDistance) {
                        linesPositions.push(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2]);
                        linesPositions.push(positions[j * 3], positions[j * 3 + 1], positions[j * 3 + 2]);
                    }
                }
            }
            linesGeometry.setAttribute('position', new THREE.Float32BufferAttribute(linesPositions, 3));
            const linesMesh = new THREE.LineSegments(linesGeometry, linesMaterial);
            scene.add(linesMesh);

            const mouse = { x: 0, y: 0 };
            window.addEventListener('mousemove', (event) => {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            });
            
            const clock = new THREE.Clock();
            function animate() {
                const elapsedTime = clock.getElapsedTime();
                particlesMesh.rotation.y = elapsedTime * 0.05;
                linesMesh.rotation.y = elapsedTime * 0.05;
                camera.position.x += (mouse.x * 20 - camera.position.x) * 0.02;
                camera.position.y += (mouse.y * 20 - camera.position.y) * 0.02;
                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            }
            animate();

            window.addEventListener('resize', () => {
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
            });

            // --- Логика для модального окна ---
            const modal = document.getElementById('modal');
            const modalPanel = document.getElementById('modal-panel');
            const modalBackdrop = document.getElementById('modal-backdrop');
            const modalTitle = document.getElementById('modal-title');
            const modalImage = document.getElementById('modal-image');
            const modalText = document.getElementById('modal-content');
            const closeBtn = document.getElementById('modal-close');
            const openBtns = document.querySelectorAll('.modal-open-btn');

            gsap.set(modalPanel, { perspective: 800, transformStyle: 'preserve-3d' });
            const tl = gsap.timeline({ paused: true });
            tl.fromTo(modal, { autoAlpha: 0 }, { autoAlpha: 1, duration: 0.3 })
              .fromTo(modalPanel, { autoAlpha: 0, scale: 0.8, rotationX: -45 }, { autoAlpha: 1, scale: 1, rotationX: 0, duration: 0.5, ease: 'power2.out' }, "-=0.2");
            
            tl.eventCallback('onReverseComplete', () => modal.classList.add('hidden'));

            openBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const target = btn.dataset.target;
                    const data = modalContent[target];
                    modalTitle.textContent = data.title;
                    modalImage.src = data.image;
                    modalImage.alt = data.title;
                    modalText.innerHTML = data.content;
                    modal.classList.remove('hidden');
                    tl.play();
                });
            });

            const closeModal = () => tl.reverse();
            closeBtn.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);
        
            // --- Анимация скролла для блоков ---
             gsap.utils.toArray('.reveal').forEach(elem => {
                gsap.fromTo(elem, 
                    { autoAlpha: 0, y: 50 },
                    {
                        autoAlpha: 1,
                        y: 0,
                        duration: 1,
                        delay: elem.dataset.delay || 0,
                        scrollTrigger: {
                            trigger: elem,
                            start: 'top 85%',
                            toggleActions: 'play none none none'
                        }
                    }
                );
            });

             gsap.utils.toArray('.timeline-item').forEach(item => {
                 gsap.from(item, {
                    autoAlpha: 0,
                    y: 50,
                    duration: 1,
                    scrollTrigger: {
                        trigger: item,
                        start: 'top 80%',
                        toggleActions: 'play none none none'
                    }
                });
            });
        });
    </script>
</body>
</html>